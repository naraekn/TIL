200615_TIL
===

2주차 피드백 강의를 보고 배운점
---

1. **```webpack.config.js``` 파일 수정하기**

    각 컴포넌트들을 ```import``` 할 때, 
    ```import App from './App';``` 와 같이 파일이름에서 ```.jsx``` 부분을 빼고 불러오도록 한다. 이를 가능하게 만들기 위해서는, ```webpack.config.js``` 파일에서 ```resolve``` 부분을 더해줘야 한다. (이 내용은 200614.md에서도 수정해야겠다.)

    ```javascript
    modules.exports = {
      entry: ... ,
      module: ... ,
      resolve: {
        extenstions: ['.js', '.jsx'],
      },
    }
    ```

2. **아샬님이 코딩하는 방식**
  
    나는 큰 구조에서부터 작은 부분으로 쪼개져서 들어가는 식으로 코딩을 한다. (물론, 내가 아직 javascript, react, HTML을 잘모르기 때문일수도 있다.) 하지만, 아샬님은 작은 것부터 차례대로 만들어가고, 임시데이터를 활용하여 코드가 의도한대로 동작하는지를 계속 체크하신다. 그렇게 작은 것에서부터 큰 것을 만들어 나간다. 어쩌면, 이 것이 **"테스트주도개발"** 방식의 예고편(?) 정도인 거 같다. 이번주에 드디어 기다리던 테스트에 대한 주제로 배우게 됐는데, 열심히 배워야겠다.

3. **object로 받은 props를 임시로 확인할 때: ```JSON.stringify(obj)```**

    물론, 실제 코드에서 활용하지는 않았지만, ```JSON.stringify(obj)```를 활용하면 object를 json형태로 바꿔서 쉽게 화면에 출력할 수 있다. (중간 확인용으로)

4. **destructuring 안에서 destructuring 하기**

    아래는 아샬님의 피드백 강의중에 나온 코드다. destructuring 안에서 destructuring을 해서 코드를 더 깔끔하게 만든다. 이런게 가능하다니!
    ```javascript
    function Item({task: { id, title }}) {
      ...
    }
    ```

5. **```spread```로 state 펼치기**
    
    ES6에서부터는 ```spread``` syntax로 원래 있던 state들을 불러올 수 있다. ```...state```을 하고나면, 원래 있던 state들을 불러오고, 해당 코드 뒤에 새롭게 값이 바뀐 state을 써주면 된다.

    ```javascript
    // before
    function handleChangeTitle(event) {
      setState({
        newId,
        tasks,
        taskTitle: event.target.value,
      });
    }

    // after
    function handleChangeTitle(event) {
      setState({
        ...state,
        taskTitle: event.target.value,
      });
    }
    ```

6. **destructuring** 한 props가 너무 긴 경우: 두 줄로 넘기기
    아래는 내가 과제할 때 작성한 코드이다. ```todos``` ~ ```handleClickComplete``` 가 기니까 이를 두줄로 만들어도 된다. (두 줄로 만들어도 나쁘지 않다!)

    ```javascript
    export default function Page({
      todos, newTodo, handleChange, handleSubmit, handleClickComplete,
    }) {
      const isNotEmpty = (arr) => arr.length !== 0;

      return (
        <div>
          <h1>To-do</h1>
          <AddForm newTodo={newTodo} onChange={handleChange} onSubmit={handleSubmit} />
          {
            isNotEmpty(todos)
              ? <Todos todos={todos} onClick={handleClickComplete} />
              : <p>할 일이 없어요!</p>
          }
        </div>
      );
    }
    ```


Test 개발환경 세팅하기
---
1. **jest 설치하기**
    ```
    npm i -D jest babel-jest
    ```
    위 코드를 실행해서, jest와 babel-jest를 설치한다. 그런 다음, ```simple.test.js```를 만들어보자!

2. **@types/jest 설치하기**
    ```
    npm i -D @types/jest
    ```
    위 코드를 실행시켜, types/jest를 설치한다. test 코드를 작성할 때 자동완성 되는 등의 문제를 막아준다.

3. **```.eslintrc.js``` 에 들어가서 jest true 만들어주기**
    ```javascript
    module.exports = {
      env: {
        browser: ... ,
        es6: ... ,
        jest: true,
      },
    }
    ```

4. **```jest```를 실행해보자**
    ```
    npx jest
    npx jest --watchAll
    ``
    ```--watchAll```를 쓰면 이 프로젝트에 있는 테스트 파일을 계속 감사한다.

5. **react 테스팅 라이브러리 설치하기**
    ```
    npm i -D @testing-library/react @testing-library/jest-dom
    ```
    React에서 테스트용으로 렌더링할 수 있도록 도와주는 도구들이다. (조금 더 정확하게 정리하자면, '사용자와 동일한 방식으로 DOM 쿼리를 사용할 수 있게 해준다'고 한다.)

6. **```jest.config.js```로 세팅하기**
    ```javascript
    //jest.cofing.js
    module.exports = {
      setupFilesAfterEnv: [
        './jest.setup',
      ],
    }
    ```
    같은 import 문은 계속 쓰기 힘드니까 위와 같이, 세팅파일을 만들어서 설정해주자.

    ```javascript
    //jest.setup.js
    import '@testing-library/jest-dom';
    ```
    ```jest.setup.js``` 에서 공통으로 import 되는 것들을 작성한다.