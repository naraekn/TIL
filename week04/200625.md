200625_TIL
===

오늘은 드디어 과제 4-1을 제출했다. 사실, 이번주는 개념을 이해하는 것도 너무 힘들었고, 과제를 하는 것도 너무 막막하고 어려웠다. 오늘은 이번주를 잠시나마 돌아보고 어려움의 원인을 찾아보기로 했다.

나는 왜 과제 4-1이 너무 어려웠을까?
---
(사람이 참 간사한게, 제출 하고 나니까 쉬워보인다.. 그래도 한 번 더 돌아보자)

1. **한 번도 해보지 못했다.**

    모든 것을 다 제치고 처음이라서 어려웠다. 테스트 코드라는 것을 작성해본 것도 저번주가 난생 처음인데, TDD는 경험해봤을리가 없다. 어떤 방식으로 하는 것이 TDD인지도 감이 안잡혔고, 어디서부터 뭘 손대야할지 몰랐다. 비슷한 것을 배우면, 다른 하나는 빨리 배울 수 있다. 하지만, 아예 접해보지도 못한 것은 그 처음을 해내는 것이 힘들다. (어려운게 당연하다고!!! ㅠㅠ..)

2. **이해를 위한 절대적인 시간이 아주! 많이!! 필요했다.**

    Redux, Flux 에 대하여 이해하는데도 오래 걸렸다. (아샬님의 빠른 타이핑 속도도 한 몫 했다..) 그렇지만, 오래 걸리더라도 이번 과제만큼은 명확하게 개념들을 이해해야만 했다. 이번 과제는 단순히 강의를 보고 '흉내를 내는' 종류의 것이 아니었다. 아샬님의 강의는 Redux를 가르쳐주기 위한 강의였기 때문에, TDD의 사이클대로 가지 않았다. 그렇지만, 우리는 같은 코드를 TDD에 맞게 재구성해야했다. 즉, 완성된 그림을 다시 재조합해서 다른 방식으로 만들어내야 했던 과제였다. 남이 했던 방식을 따라서, 그대로 적용하는 것은 어쩌면 쉽다. 하지만, 남이 했던 것을 새로운 방식으로 한다는 것은 더 힘든일이다. (남이 한 것을 제대로 이해해야지만, 새롭게 만들 수 있다!)

    결국, 철저한 이해가 너무 필요했고, 강의를 진짜 세네번 넘게 계속 돌려보며 이해를 해나가는 시간이 압도적으로 많이 필요해서 힘들었다.


3. **테스트코드에 대한 확신이 없다.**

    현재 나의 코드가 TDD Cycle에서 'red'이기 때문에 테스트가 Fail인 건지, 그냥 테스트 코드를 잘못 작성한건지 구분하는 것이 어려웠다. 즉, 나의 테스트코드에 대한 확신이 없었다. 이번에 TDD를 하며 느낀 것은, TDD의 기반에는 테스트에 대한 명확한 이해가 있어야 한다.


TDD, 이렇게 하는 거 아닐까? 
---
이번 과제를 했던 순서를 돌아보며, TDD에 대하여 감을 잡게 된 부분을 정리한다. _(아직 확실하지는 않음)_

1. **App 에 대한 통합테스트 작성**

    useSelector, useDispatch 없이 전체적으로 앱 컴포넌트가 어떻게 동작해야 하는지 서술하는 통합테스트를 작성했다.

2. **App에 있는 initialState과 function들 분리**

    언젠가(?)는 redux가 관리해줄 아이들이니 App 컴포넌트에서 제거했다.

3. **action 테스트 & 구현**

    위에서 분리해준 function을 대신 쓰기 위해서는 action 들을 구현해야 한다. 피드백을 받은 거 보니, 액션은 테스트를 작성할 필요가 없다고 한다!

4. **reducer 테스트 & 구현**

    ```action```을 만들었으니, ```action```에 맞게 ```state```을 처리해줄 reducer를 구현해야지.

5. **store 구현**
    
    ```reducer```가 있으면 ```store```가 있어야지

6. **Container 구현하기**
    
    이제 ```Redux```를 쓸 모든 준비가 끝났다. 이제 ```Redux```를 써서 ```Container```를 구현하자

7. **Container를 사용하는 코드로 바꾸기**

    App 컴포넌트를 컨테이너를 사용해서 훨씬 단순하게 만들었다.

*** 멘토님 말씀대로 조금더 테스트를 쪼개면 좋은 테스트가 될 거 같다!


TDD를 하고 난 소감
---
너무 힘들지만, 감을 잡고 나서부터는 너무 재밌었다. (한 번 되고나니까 풀집중 상태로 코딩했다) 이제까지 나는 거의 모든 코드가 완성되고 난 후, 화면을 보고 직접 동작해보며 나의 코드가 맞게 짜인건지 확인했다. 그렇지만, TDD를 하면 거의 코드 몇줄 단위로 내가 맞게 짜고 있는지를 확인할 수 있다. 이를 통해, 내가 더 확신을 가지고 코드에서 더 다양한 실험을 해볼 수 있었고, 더 체계적으로 코딩을 할 수 있었다. (테스트 돌아가는 거 구경하는 (?) 재미도 덤!) 지금은 좀 힘들지만, 꼭 TDD 방식을 익혀서 다른 개발에서도 적용하고 싶다는 생각이 들었다.