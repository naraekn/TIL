200713_TIL
===

소프트웨어에서 어떻게 선을 그을것인가? (피드백 강의를 듣고) 
---

어제 한시간 짜리 피드백 강의를 들었지만, 솔직히 디테일한건 하나도 기억이 안난다. 하지만, 나의 머릿속에 제대로 남은 것이 한 가지 있다. 아샬님이 RestaurantPage와, RestaurantContainer, RestaurantDetail을 나누면서 이를 나누는 기준에 대해서 잠깐 이야기하는 부분이 있었다.

> RestuarantPage - React Router를 처리한다.
    
> RestaurantContainer - React Router에 대하여 모른다. Redux에 대한 처리를 한다.

> RestaurantDetail - redux를 모른다. UI를 그려주는 부분을 처리한다.

나의 코드에서는 이러한 분리들이 철저히 이루어지지 않았다. 내가 현재 Container와 Page를 나누는 과정에서 뭔가 찝찝하고 뭔가 이상하다고 생각한 것이 있다고 생각하면서 코딩을 했는데, 이 지점에서 불편함을 느꼈다는 것을 강의를 통해 깨달았다.

최근, 내가 일을 하며 매번 마주하는 문제는 "선 긋기"에 대한 것이었다. 머리로는 상태관리하는 애와 UI를 그려야하는 것을 알겠는데, 막상 구현하기 시작하면 애매한 애들이 있다. ```Navigator.of(context).pop();``` 코드는 어디에 속하는게 맞을까? 아니면, ```showAlertDialog``` 함수는 어디에 구현하는게 맞을까? 조금 더 구체적으로 말해보자면, state 관리를 하는 로직에서 ```showAlertDialog```라는 이벤트를 발생시켜야 하는데, 문제는 ```showDialog``` 안에 UI로직이 포함되어 있다. 그래서 처음에는 Widget 자체를 ```showDialog```를 상태관리하는 부분에서 구현하고 parameter를 통해 위젯을 넘겨받았다. 이렇게 하면 깔끔하게 분리되었군!이라고 생각했다. 그런데, 문제는 Widget을 parameter로 받기 위해서는 ```package:flutter/material.dart```를 import 해야 했다. flutter/material은 철저히 UI에만 관심을 갖는 애들이다. 이렇게 하는게 맞을까? 라는 질문이 들 때 쯤, 어제 본 아샬님의 강의가 생각났다.

관심사를 분리하기 위하여 리팩터링을 하던 중, 어디에 속하면 좋을지 애매한 코드들이 있다면 import문을 보면 되지 않을까? 라는 힌트를 아샬님의 강의에서 얻을 수 있었다. 우리가 관심사를 분리하는 목적은 아마도 우리의 개발의 편의를 위해 예쁘게 정리를 하는 것도 분명 있을 것이다. 하지만, 관심사를 분리하는 중요한 목적 중에 하나는 결국 수많은 의존관계가 생겼을 때, 소프트웨어가 가진 복잡성을 다룰 수 없게 되는 문제를 해결하기 위함이라는 생각이 들었다. (왜냐하면, 이건 내가 너무 뼈맞으면서?? 경험하고 있기 때문..) 

그래서, 이번에는 한 번 아주 간단한 기준을 가지고 코드들을 분리해볼까 한다.

1. UI에 대한 코드는 flutter를 import 하고 자유롭게 사용한다.
2. 상태관리하는 코드는 flutter를 모른다. 
3. 상태관리하는 코드에서 UI에 영향을 주고 싶을 때는, UI코드가 상태관리하는 코드를 지켜보고 있다는 것을 기억하자. flutter 를 import하지 않고도 해결할 방법이 있다.



6주차 회고
---

* 무엇을 배웠는가?

이번주에 배운 것 중 가장 기억에 남는 것은, 피드백 강의에서 ```RestaurantPage```, ```RestaurantContainer```, ```RestaurantDetail```을 분리해내는 과정이었습니다. 과제 중에 Page에서 Container를 분리하는 과정에서, 뭔가 경계가 애매하고 찝찝하다(?)는 생각이 들었는데, 피드백 강의에서 제가 생각치도 못한 방법으로 분리해내는 것을 보며, 관심사의 분리에 대해서 다시 한 번 고민해보고 배울 수 있는 시간이었습니다.

* 좋았던 점은?

TDD에 대하여 트레이너님께 질문을 하고 대답을 듣는 과정에서, 제가 코드숨을 신청했던 이유를 리마인드 할 수 있어서 좋았습니다. 사실 기초가 거의 없어서 걱정 가득한 마음으로 시작했지만, 무사히ㅎㅎㅎ 반절을 지나왔다는 것이 뿌듯했습니다. 나머지 반절도 열심히 해서 더 성장하고 싶다는 생각을 했습니다.

* 아쉬웠던 점과 개선하고 싶은 것은?

몇 주전에 트레이너님께 테스트 코드에 대하여 질문을 한 적이 있는데, 트레이너님께서 "다른 사람이 나의 코드를 볼 때 가장 먼저 테스트 코드를 살펴보기도 한다. 테스트 코드는 어플리케이션의 예제이기 때문이다"는 말을 들은 적이 있습니다. 이 말을 듣고, 그 때는 '오 좋은 말이다..'하고 넘겼는데, 이번에 과제를 헤매면서 그 말이 어떤 의미인지 알 수 있었습니다.

과제 시작 전에 e2e 테스트 코드를 꼼꼼하게 살펴보지 않았고, 이로 인해서 충분히 단축 가능했을 시간들을 엉뚱한 곳에서 낭비를 한 점이 아쉬웠습니다. 코드숨 과제의 요구사항과 힌트들은 어쩌면, 코드숨 홈페이지 과제란에 있는 것이 아니라, e2e 테스트 코드에 있다는 생각이 들었습니다. 다음부터는, 과제 시작전에 e2e 테스트 코드를 꼼꼼하게 살펴야겠다는 생각이 들었습니다.

